<% content_for :title, "散歩記録詳細 - てくメモ" %>

<div class="flex-1 p-4 pb-24 w-full max-w-2xl mx-auto space-y-6">

  <!-- ヘッダーエリア：日付と場所 -->
  <div class="text-center space-y-2">
    <div class="inline-block bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm px-4 py-1 rounded-full border border-gray-200 dark:border-cyan-500/30 shadow-sm">
      <span class="text-sm font-bold text-gray-500 dark:text-cyan-400">
        <%= %w[日 月 火 水 木 金 土][@walk.walked_on.wday] %>曜日
      </span>
    </div>
    <h1 class="text-4xl font-black text-gray-900 dark:text-cyan-50 tracking-tight dark:drop-shadow-[0_0_10px_rgba(34,211,238,0.5)]">
      <%= @walk.walked_on.strftime('%Y.%m.%d') %>
    </h1>
    <div class="flex items-center justify-center space-x-1 text-gray-600 dark:text-cyan-100">
      <span class="material-symbols-outlined text-red-500 dark:!text-transparent dark:!bg-clip-text dark:bg-gradient-to-br dark:from-cyan-300 dark:to-blue-300 dark:drop-shadow-[0_0_8px_rgba(34,211,238,0.8)]">location_on</span>
      <span class="font-bold text-lg"><%= @walk.location %></span>
    </div>
  </div>

  <!-- Bento Grid 統計情報 -->
  <div class="grid grid-cols-2 gap-4">
    <!-- 距離カード -->
    <div class="bg-[radial-gradient(ellipse_120%_120%_at_35%_35%,#ffffff_30%,#dcfce7_90%)] dark:bg-none dark:bg-gradient-to-br dark:from-slate-900/90 dark:to-emerald-950/90 backdrop-blur-xl rounded-[3.75rem] p-5 text-gray-800 dark:text-white shadow-[15px_15px_40px_rgba(34,197,94,0.2),-15px_-15px_40px_#ffffff,inset_-5px_-5px_15px_rgba(34,197,94,0.1),inset_5px_5px_15px_rgba(255,255,255,0.7)] dark:shadow-[0_0_15px_rgba(16,185,129,0.2),inset_0_0_0_1px_rgba(255,255,255,0.1),inset_0_1px_0_rgba(255,255,255,0.3)] relative overflow-hidden group hover:scale-105 transition-transform duration-300 border-2 border-white/60 dark:border-emerald-500/30 dark:border-t-white/40 before:absolute before:inset-x-0 before:top-0 before:h-[45%] before:bg-gradient-to-b before:from-white/40 before:to-transparent before:rounded-t-[3.75rem] before:pointer-events-none before:animate-pulse">
      <div class="absolute top-0 right-0 -mr-4 -mt-4 w-24 h-24 bg-white/20 dark:bg-emerald-500/10 rounded-full blur-2xl"></div>
      <div class="relative z-10 pl-2">
        <div class="flex items-center space-x-1 mb-2 opacity-90">
          <span class="material-symbols-outlined dark:!text-transparent dark:!bg-clip-text dark:bg-gradient-to-br dark:from-emerald-300 dark:to-green-300 dark:drop-shadow-[0_0_8px_rgba(16,185,129,0.8)]">straighten</span>
          <span class="text-[10px] sm:text-xs font-bold dark:text-emerald-200">距離</span>
        </div>
        <div class="flex items-baseline">
          <span class="inline-block text-xl sm:text-4xl font-black tracking-tighter text-shadow-sm bg-clip-text text-transparent bg-gradient-to-b from-green-400 to-emerald-600 dark:from-emerald-300 dark:via-green-300 dark:to-emerald-500 dark:drop-shadow-[0_0_5px_rgba(16,185,129,0.5)]"
                data-controller="counter"
                data-counter-target-value="<%= @walk.distance %>">
            0
          </span>
          <span class="text-xs sm:text-sm font-bold ml-1 opacity-90 dark:text-emerald-400">km</span>
        </div>
      </div>
    </div>

    <!-- 時間カード -->
    <div class="bg-[radial-gradient(ellipse_120%_120%_at_35%_35%,#ffffff_30%,#e0f2fe_90%)] dark:bg-none dark:bg-gradient-to-br dark:from-slate-900/90 dark:to-indigo-950/90 backdrop-blur-xl rounded-[3.75rem] p-5 text-gray-800 dark:text-white shadow-[15px_15px_40px_rgba(14,165,233,0.2),-15px_-15px_40px_#ffffff,inset_-5px_-5px_15px_rgba(14,165,233,0.1),inset_5px_5px_15px_rgba(255,255,255,0.7)] dark:shadow-[0_0_15px_rgba(6,182,212,0.2),inset_0_0_0_1px_rgba(255,255,255,0.1),inset_0_1px_0_rgba(255,255,255,0.3)] relative overflow-hidden group hover:scale-105 transition-transform duration-300 border-2 border-white/60 dark:border-cyan-500/30 dark:border-t-white/40 before:absolute before:inset-x-0 before:top-0 before:h-[45%] before:bg-gradient-to-b before:from-white/40 before:to-transparent before:rounded-t-[3.75rem] before:pointer-events-none before:animate-pulse">
      <div class="absolute bottom-0 left-0 -ml-4 -mb-4 w-24 h-24 bg-white/20 dark:bg-cyan-500/10 rounded-full blur-2xl"></div>
      <div class="relative z-10 pl-2">
        <div class="flex items-center space-x-1 mb-2 opacity-90">
          <span class="material-symbols-outlined dark:!text-transparent dark:!bg-clip-text dark:bg-gradient-to-br dark:from-cyan-300 dark:to-blue-300 dark:drop-shadow-[0_0_8px_rgba(34,211,238,0.8)]">schedule</span>
          <span class="text-[10px] sm:text-xs font-bold dark:text-cyan-200">時間</span>
        </div>
        <div class="flex items-baseline">
          <span class="inline-block text-xl sm:text-4xl font-black tracking-tighter text-shadow-sm bg-clip-text text-transparent bg-gradient-to-b from-sky-400 to-blue-600 dark:from-cyan-300 dark:via-blue-300 dark:to-cyan-500 dark:drop-shadow-[0_0_5px_rgba(34,211,238,0.5)]"
                data-controller="counter"
                data-counter-target-value="<%= @walk.duration %>">
            0
          </span>
          <span class="text-xs sm:text-sm font-bold ml-1 opacity-90 dark:text-cyan-400">分</span>
        </div>
      </div>
    </div>

    <!-- 歩数カード -->
    <div class="bg-[radial-gradient(ellipse_120%_120%_at_35%_35%,#ffffff_30%,#f3e8ff_90%)] dark:bg-none dark:bg-gradient-to-br dark:from-slate-900/90 dark:to-purple-950/90 backdrop-blur-xl rounded-[3.75rem] p-5 text-gray-800 dark:text-white shadow-[15px_15px_40px_rgba(168,85,247,0.2),-15px_-15px_40px_#ffffff,inset_-5px_-5px_15px_rgba(168,85,247,0.1),inset_5px_5px_15px_rgba(255,255,255,0.7)] dark:shadow-[0_0_15px_rgba(168,85,247,0.2),inset_0_0_0_1px_rgba(255,255,255,0.1),inset_0_1px_0_rgba(255,255,255,0.3)] relative overflow-hidden group hover:scale-105 transition-transform duration-300 border-2 border-white/60 dark:border-purple-500/30 dark:border-t-white/40 before:absolute before:inset-x-0 before:top-0 before:h-[45%] before:bg-gradient-to-b before:from-white/40 before:to-transparent before:rounded-t-[3.75rem] before:pointer-events-none before:animate-pulse">
      <div class="absolute top-0 left-0 -ml-4 -mt-4 w-24 h-24 bg-white/20 dark:bg-purple-500/10 rounded-full blur-2xl"></div>
      <div class="relative z-10 pl-2">
        <div class="flex items-center space-x-1 mb-2 opacity-90">
          <span class="material-symbols-outlined dark:!text-transparent dark:!bg-clip-text dark:bg-gradient-to-br dark:from-purple-300 dark:to-fuchsia-300 dark:drop-shadow-[0_0_8px_rgba(168,85,247,0.8)]">directions_walk</span>
          <span class="text-[10px] sm:text-xs font-bold dark:text-purple-200">歩数</span>
        </div>
        <div class="flex items-baseline">
          <span class="inline-block text-xl sm:text-4xl font-black tracking-tighter text-shadow-sm bg-clip-text text-transparent bg-gradient-to-b from-purple-400 to-indigo-600 dark:from-purple-300 dark:via-fuchsia-300 dark:to-purple-500 dark:drop-shadow-[0_0_5px_rgba(168,85,247,0.5)]"
                data-controller="counter"
                data-counter-target-value="<%= @walk.steps || 0 %>">
            0
          </span>
          <span class="text-xs sm:text-sm font-bold ml-1 opacity-90 dark:text-purple-400">歩</span>
        </div>
      </div>
    </div>

    <!-- カロリーカード -->
    <div class="bg-[radial-gradient(ellipse_120%_120%_at_35%_35%,#ffffff_30%,#ffedd5_90%)] dark:bg-none dark:bg-gradient-to-br dark:from-slate-900/90 dark:to-rose-950/90 backdrop-blur-xl rounded-[3.75rem] p-5 text-gray-800 dark:text-white shadow-[15px_15px_40px_rgba(249,115,22,0.2),-15px_-15px_40px_#ffffff,inset_-5px_-5px_15px_rgba(249,115,22,0.1),inset_5px_5px_15px_rgba(255,255,255,0.7)] dark:shadow-[0_0_15px_rgba(244,63,94,0.2),inset_0_0_0_1px_rgba(255,255,255,0.1),inset_0_1px_0_rgba(255,255,255,0.3)] relative overflow-hidden group hover:scale-105 transition-transform duration-300 border-2 border-white/60 dark:border-rose-500/30 dark:border-t-white/40 before:absolute before:inset-x-0 before:top-0 before:h-[45%] before:bg-gradient-to-b before:from-white/40 before:to-transparent before:rounded-t-[3.75rem] before:pointer-events-none before:animate-pulse">
      <div class="absolute bottom-0 right-0 -mr-4 -mb-4 w-24 h-24 bg-white/20 dark:bg-rose-500/10 rounded-full blur-2xl"></div>
      <div class="relative z-10 pl-2">
        <div class="flex items-center space-x-1 mb-2 opacity-90">
          <span class="material-symbols-outlined dark:!text-transparent dark:!bg-clip-text dark:bg-gradient-to-br dark:from-orange-300 dark:to-red-300 dark:drop-shadow-[0_0_8px_rgba(251,146,60,0.8)]">local_fire_department</span>
          <span class="text-[10px] sm:text-xs font-bold dark:text-rose-200">消費カロリー</span>
        </div>
        <div class="flex items-baseline">
          <span class="inline-block text-xl sm:text-4xl font-black tracking-tighter text-shadow-sm bg-clip-text text-transparent bg-gradient-to-b from-orange-400 to-red-600 dark:from-orange-300 dark:via-red-300 dark:to-orange-500 dark:drop-shadow-[0_0_5px_rgba(244,63,94,0.5)]"
                data-controller="counter"
                data-counter-target-value="<%= @walk.calories_burned || 0 %>">
            0
          </span>
          <span class="text-xs sm:text-sm font-bold ml-1 opacity-90 dark:text-rose-400">kcal</span>
        </div>
      </div>
    </div>
  </div>

  <!-- メモセクション（ノート風） -->
  <% if @walk.notes.present? %>
    <div class="bg-yellow-50 dark:bg-slate-900/80 backdrop-blur-sm border-l-4 border-yellow-400 dark:border-yellow-400 p-5 rounded-r-xl shadow-sm dark:shadow-[0_0_10px_rgba(250,204,21,0.1)] relative overflow-hidden">
      <div class="flex items-center space-x-2 mb-3 text-yellow-600 dark:text-yellow-300">
        <span class="material-symbols-outlined">edit_note</span>
        <h3 class="font-bold text-sm uppercase tracking-wider">Memo</h3>
      </div>
      <p class="text-gray-700 dark:text-yellow-50 whitespace-pre-wrap leading-relaxed font-medium">
        <%= @walk.notes %>
      </p>
    </div>
  <% end %>

  <!-- アクションボタン -->
  <div class="grid grid-cols-3 gap-3 pt-4">
    <%= link_to walks_path,
        class: "col-span-1 bg-[radial-gradient(ellipse_120%_120%_at_35%_35%,#ffffff_30%,#f3f4f6_90%)] dark:bg-none dark:bg-slate-800/80 backdrop-blur-sm text-gray-600 dark:text-slate-400 hover:shadow-[10px_10px_20px_rgba(156,163,175,0.2),-10px_-10px_20px_#ffffff] dark:hover:bg-slate-700 font-bold py-4 rounded-[3.75rem] flex flex-col items-center justify-center space-y-1 transition-all active:scale-95 shadow-[5px_5px_15px_rgba(156,163,175,0.1),-5px_-5px_15px_#ffffff,inset_-2px_-2px_5px_rgba(156,163,175,0.05),inset_2px_2px_5px_rgba(255,255,255,0.5)] border-2 border-white/60 dark:border-white/5 dark:border-t-white/20 relative overflow-hidden before:absolute before:inset-x-0 before:top-0 before:h-[50%] before:bg-gradient-to-b before:from-white/40 before:to-transparent before:rounded-t-[3.75rem] before:pointer-events-none" do %>
      <span class="material-symbols-outlined">arrow_back</span>
      <span class="text-xs">戻る</span>
    <% end %>

    <%= link_to edit_walk_path(@walk),
        class: "col-span-1 bg-[radial-gradient(ellipse_120%_120%_at_35%_35%,#ffffff_30%,#e0f2fe_90%)] dark:bg-none dark:bg-cyan-950/50 backdrop-blur-sm text-blue-600 dark:text-cyan-400 hover:shadow-[10px_10px_20px_rgba(14,165,233,0.2),-10px_-10px_20px_#ffffff] dark:hover:bg-cyan-900/50 font-bold py-4 rounded-[3.75rem] flex flex-col items-center justify-center space-y-1 transition-all active:scale-95 shadow-[5px_5px_15px_rgba(14,165,233,0.1),-5px_-5px_15px_#ffffff,inset_-2px_-2px_5px_rgba(14,165,233,0.05),inset_2px_2px_5px_rgba(255,255,255,0.5)] border-2 border-white/60 dark:border-cyan-500/50 dark:border-t-white/20 dark:shadow-[0_0_10px_rgba(34,211,238,0.2)] relative overflow-hidden before:absolute before:inset-x-0 before:top-0 before:h-[50%] before:bg-gradient-to-b before:from-white/40 before:to-transparent before:rounded-t-[3.75rem] before:pointer-events-none" do %>
      <span class="material-symbols-outlined">edit</span>
      <span class="text-xs">編集</span>
    <% end %>

    <%= link_to walk_path(@walk),
        method: :delete,
        data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか？" },
        class: "col-span-1 bg-[radial-gradient(ellipse_120%_120%_at_35%_35%,#ffffff_30%,#ffe4e6_90%)] dark:bg-none dark:bg-rose-950/50 backdrop-blur-sm text-red-600 dark:text-rose-400 hover:shadow-[10px_10px_20px_rgba(244,63,94,0.2),-10px_-10px_20px_#ffffff] dark:hover:bg-rose-900/50 font-bold py-4 rounded-[3.75rem] flex flex-col items-center justify-center space-y-1 transition-all active:scale-95 shadow-[5px_5px_15px_rgba(244,63,94,0.1),-5px_-5px_15px_#ffffff,inset_-2px_-2px_5px_rgba(244,63,94,0.05),inset_2px_2px_5px_rgba(255,255,255,0.5)] border-2 border-white/60 dark:border-rose-500/50 dark:border-t-white/20 dark:shadow-[0_0_10px_rgba(244,63,94,0.2)] relative overflow-hidden before:absolute before:inset-x-0 before:top-0 before:h-[50%] before:bg-gradient-to-b before:from-white/40 before:to-transparent before:rounded-t-[3.75rem] before:pointer-events-none" do %>
      <span class="material-symbols-outlined">delete</span>
      <span class="text-xs">削除</span>
    <% end %>
  </div>

</div>
